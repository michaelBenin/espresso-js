var i=!0,p=null,q=!1;function r(){return function(){}}
(function(d,a,c,b){function j(e,a){if(!e)return e;for(var b=e instanceof Array?e:e.split("."),c=a||window,d;d=b.shift();)if(!c[d]||!(c=c[d]))c=c[d]={};return c}function f(e){function c(e,b){var d;a.map(b,function(a){d=d||a===e});return d}function d(e,a,h,g){var f,a=a||{},h=h||[],g=g||[],j;for(j in e)f=e[j],h.push(j),"object"==typeof f&&f!==b&&!c(f,g)?g.push(f)&&d(f,a,h,g)&&g.pop():a[h.join(".")]=f,h.pop();return a}return d(e)}function m(e){function c(e,a){for(var b in e)"object"==typeof e[b]?c(e[b],
a):e[b]="string"==typeof e[b]?n(e[b],a):e[b];return e}return c(a.extend(i,{},e),f(e))}function g(e,a,b){b=b||O;if(a&&"undefined"==typeof b[e=e.toUpperCase()])b[e]=a;return b[e]}function h(e){return function(){return e}}function o(e,a){return e.replace(a?/^[a-z]/gi:/(?:\s|^)[a-z]/gi,function(e){return e.toUpperCase()})}function n(e,a){return e.replace(/{(.+?)}/g,function(e,b){return a[b]||""})}function u(e,a,b){return function(){return e.apply(b||this,a||[])}}function l(e,a,b,c){var d=(e=e.split(".")).pop(),
e=j(e,b);return c?e[d]=e[d.toUpperCase()]=e[o(d)]=a:e[d]=a}function z(){var e=arguments[0]||{},a=1,b=arguments.length,c=q,d;"boolean"===typeof e&&(c=e,e=arguments[1]||{},a=2);"object"!==typeof e&&!jQuery.zb(e)&&(e={});b==a&&(e=this,--a);for(;a<b;a++)if((d=arguments[a])!=p){for(var h in d){var g=e[h],f=d[h];e!==f&&(c&&f&&"object"===typeof f&&!f.nodeType?e[h]=z(c,g||(f.length!=p?[]:{}),f):void 0!==f&&(e[h]=f))}d.hasOwnProperty("toString")&&(e.toString=d.toString);d.hasOwnProperty("valueOf")&&(e.valueOf=
d.valueOf)}return e}function I(a,b){if(!a)return a;for(var c=a instanceof Array?a:a.split("."),d=b||window,h;h=c.shift();)if(d[h])d=d[h];else return q;return i}function B(a){return Array.prototype.slice.call(a||arguments.callee.caller.arguments)}function C(e,b,c){function d(){u.pop().apply(p,n)}function h(a){return a!=q?"false"!=a:!!a}function f(a,e,b){if("undefined"!=typeof a)if("string"==typeof a)try{if(!eval(a.replace(g("R_USE_NO_INVOKE"),"")))return e}catch(d){}else if(!a)return e;return b}for(var o=
a.extend(i,{},D.W,c||{}),u=[],n=[],e=a.map([].concat(e),function(e,c){var l=a.extend(i,{},o);e.replace(g("R_USE_ATTRS"),function(a,e){var b=e.split("=");l[b[0]]=b[1]||i});l=m(l);e=e.replace(g("R_USE_REMOVE_STAR"),"").replace(g("R_USE_PATH"),"$1");u.push(0==c?b||a.d:a.d);return f(l.pb,d,function(){var b=l.H||e,f=I(b),o=[(l.Ab||l.ma).replace(g("R_USE_ADD_SLASH"),"/"),e.replace(g("R_USE_DOT"),"/").replace(g(h(l.prefix)?"R_USE_LAST_SLASH":"R_USE_NOTHING"),"/"+(l.prefix||"")+"$1"),h(l.version)?l.Oa:"",
h(l.Pa)?l.pa:"",h(l.Ha)?l.Ia:"",".js"].join("");n[c]=j(b);!l.sa&&(L[o]||f)&&!n[c].G?d():(n[c].G=i,a.xa(o,function(){n[c]=L[o]=j(b);n[c].G=void 0;delete n[c].G;x[b]?x[b].p=d:d()}))})});e.length;)e.shift()();return 1==n.length?n[0]:n}function y(a,b,c,d){throw Error(n(g("LOGGING_TPL"),{type:"ERROR",La:c,Ca:a,method:b,message:d}));}function s(){Array.prototype.shift.call(arguments)>=D.debug.Ga&&(b.console&&b.console.log||a.d).apply(b.console||p,arguments)}function E(e){return!b.console?a.d:P?b.console.log:
e}var D=z(i,{qb:b,Aa:a,Ba:q,sb:"prod",W:{ma:"/",prefix:"",Ia:".min",Ha:q,pa:".all",version:"",Oa:"-{version}",Pa:q,H:"",sa:q},debug:{Ga:0}},c||{}),Q={},O={},L={},x={},F,P=a.nb.Cb;g("LOGGING_TPL","[{type}] in {klass}#{method}: {task}: {message} - Espresso");g("R_FUNC_NAME",/(?:function\s+((?:\w|\$)+)(?:\n|.)*)|(?:\n|.)*/);g("R_USE_ATTRS",/@(\w*(?:=[^\s]*)*)/g);g("R_USE_REMOVE_STAR",/(?:\.\*)/);g("R_USE_PATH",/^([0-9A-Za-z.]*).*/);g("R_USE_NO_INVOKE",/(?:\(+[^)]*\))|(?:[^= ]+=+[^;]+)/g);g("R_USE_ADD_SLASH",
/\/$|$/);g("R_USE_DOT",/\./g);g("R_USE_LAST_SLASH",/\/(\w*)$/);g("R_USE_NOTHING",/^$/);d=l("espresso",d||{},this,i);a||y("espresso","(main)","Checking jQuery Dependency","jQuery dependency not found");s.o=function(a){return function(){s.apply(p,[a||0].concat(Array.prototype.slice.call(arguments)))}};var v=d.lang={z:{create:j},m:{create:function(e,b,c){var d=(e=e.split(".")).pop();return j(e,c)[d]=function(){var e={};a.I(arguments,function(a,b){e[a]=b});return Error(n(b,e))}}},a:{H:function(a,b,c,
d){var h=(a=a.split(".")).pop();return j(a,d)[h]=function(a){c&&c(a);return new b(a)}},create:function(e,b,c,d){function h(){return function(c){if(l.B&&s)return s;if(!c&&!(this instanceof arguments.callee))return new arguments.callee;var d=b.apply(this,[a])||{},h;f=this;f.D=[];f.F=[];f.M=f.M||e;"string"==typeof u&&(u=j(u.replace(g("R_USE_PATH"),"$1")));m&&!c?y("espresso.lang.Class","create","Instantiating class","Cannot instantiate abstract class "+e):u&&z(i,u.apply(this,[{C:d}])||{},d);if(c!==p&&
"object"==typeof c&&c.C){for(h in m)"function"==typeof m[h]&&!c.C[h]&&y("espresso.lang.Class","create","Validating implementation of abstract class","Method "+e+"@"+h+" must be implemented.");f.D.push({Da:d[n]||a.d,name:n});f.F.push(e);c.C["@parent"]=function(a){return d[a]?d[a].apply(d,Array.prototype.shift.apply(arguments)&&arguments):d[(""+arguments.callee.caller).replace(g("R_FUNC_NAME"),"$1")].apply(d,arguments)}}else{h=f.D;for(var o=[n],J=0;J<h.length;++J)o.push(h[J].name);h=o;z(i,f,d)["@super"]=
function(){return f.D.pop().Da.apply(f,arguments)};(d[n]||a.d).apply(f,arguments);for(o=0;o<h.length;++o)delete f[h[o]];f.F.push(e);f.ja(f.F).ia(f.M).N(n).ha();l.B&&(s=f)}return z(i,f,d)}}var f,o=e?e.split("."):["[anonymous]"],n=o.pop(),l=c||{},m=l.Abstract,u=l.g||v.ea,c=[].concat("string"==typeof u?u:[],l.K||[]),s=p;c.length&&(x[e]=z(i,x[e]||{},{rb:c}),C(c,function(){x[e]&&x[e].p&&x[e].p();x[e]=p;delete x[e]}));return e?j(o,d)[n]=h():h()}},w:{create:function(e,b){return v.a.create(e,a.d,{Abstract:b})}},
L:{j:function(a,b,c){return C(a,"function"==typeof b?b:function(){F&&F.ra(b)},c)}}};v.a.create("espresso.lang.Object",function(a){var b,c;return{ea:r(),ja:function(a){c=a||[];return this},ia:function(a){b=a;return this},N:function(a){this[a]=void 0;delete this[a];return this},ha:function(){for(var a="__parents__ __setParents __constructors__ __classID__ __setClassID @super __cleanAll __clean".split(" "),b;b=a.shift();)this.N(b);return this},ua:function(){return b},V:function(b){return-1<a.yb("string"==
typeof b?b:b.ua(),c)}}});a.I({"espresso.constant":function(a,b){return g(a,b,Q)},"espresso.jQuery":a,"espresso.$":a,"espresso.load":a.xa,"espresso.log":E(s),"espresso.debug":E(s.o(0)),"espresso.warn":E(s.o(1)),"espresso.error":E(s.o(2)),"espresso.trace":E(s.o(3)),"espresso.report":function(a,b,c,d,h){s(n(g("LOGGING_TPL"),{type:a,La:d,Ca:b,method:c,message:h}))},"espresso.args":B,"espresso.curry":u,"espresso.copy":function(a){return function(){return a.apply(this,arguments)}},"espresso.lambda":h,"espresso.vector":function(){var a=
[];d.aa.I(B(),function(b,c){a[c[0]]=c[1]});return a},"espresso.reflect":u(f,[d]),"espresso.ready":function(){1==arguments.length?a(arguments[0]):(F||(F=new d.Na.ba({P:i}))).Fa.apply(F,arguments)},"espresso.die":function(a){if(1<arguments.length)y.apply(p,arguments);else throw Error(a);},"espresso.flatten":f,"espresso.which":function(){for(var a=0;a<arguments.length;++a)if(arguments[a])return arguments[a]},"espresso.extend":z,"espresso.substitute":n,"espresso.capitalize":o,"espresso.trim":function(a){return a.replace(/^\s*|\s*$/g,
"")},"espresso.objectExists":I,"espresso.instanceOf":function(a,b){return a.V&&a.V(b)},"espresso.config":function(b){b="string"==typeof b?f(D)[b]:b?a.extend(i,D,b):a.extend(i,{},D);b.Ba&&a.Db(i);return b},"espresso.parseConfig":m,"espresso.require":v.L.j,"espresso.use":v.L.j,"espresso.version":h("0.4.2"),"espresso.Static":l,"espresso.Class":function(){"string"!=typeof arguments[0]&&Array.prototype.unshift.apply(arguments,[p]);return v.a.create.apply(v.a,arguments)},"espresso.Namespace":v.z.create,
"espresso.Package":v.z.create,"espresso.Error":v.m.create,"espresso.Alias":v.a.H,"espresso.Interface":v.w.create,"espresso.plugins":{}},l)})(this.k,this.Aa,this.U,this);var t=this.k;t.c("espresso.util.Config.DefaultEnvironments",{bb:"prod",Ua:"dev"});t.c("espresso.util.Config.LoggingLevels",{Ta:0,lb:1,$a:2});var w=this.k;w.w("espresso.util.TwoDIterator",{left:r(),right:r(),Y:r(),R:r(),Z:r(),$:r(),S:r(),T:r()});
w.a("espresso.util.EventManager",function(d){function a(a,b){var d=new w.b.t(b);c.put(a,d);return d}var c,b,j={P:q};return{ba:function(a){d.extend(j,a);c=new w.b.u;b=new w.b.u},Fa:function(d,m,g){var h=c.get(d);h?(h.add(m,g),j.P&&h.ya()&&(d=b.get(d),h.flush(d.O,d.scope))):a(d,m);return this},ra:function(d,j,g,h){var o=c.get(d);o||(o=a(d));o.flush(j,g,h);b.put(d,{O:j,scope:g});return this}}});var A=this.k;function G(){}A.w("espresso.collections.List",{add:G,get:G,remove:G,size:G,l:G});
A.a("espresso.collections.LinkedList",function(){var d;return{e:function(a){d=a||[]},size:function(){return d.length},add:function(a,c){if(c==p)return d.push(a),this.size()-1;if(0>c||c>=_size())throw new A.b.e.v(c);d.splice(c,0,a);return c},get:function(a){if(0>a||a>=this.size())throw new A.b.e.v(a);return d[a]},replace:function(a,c){if(0>c||c>=this.size())throw new A.b.e.v(c);d[c]=a},remove:function(a){if(0>a||a>=this.size())throw new A.b.e.v(a);d.splice(a,1)},tb:function(){if(this.l())throw new A.b.e.da;
return this.get(0)},vb:function(){if(this.l())throw new A.b.e.da;return this.get(this.size()-1)},l:function(){return 0==this.size()},clear:function(){var a=this.size();0<a&&d.splice(0,a)},Ma:function(){return d.slice(0)},Q:function(){return new A.b.e(this.l()?p:this.Ma())}}},{g:A.b.ca});A.m("espresso.collections.LinkedList.IndexOutOfBoundsException","Index {0} out of bounds on espresso.collections.LinkedList object");A.m("espresso.collections.LinkedList.NoSuchElementException","No such element exists on espresso.collections.LinkedList object.");
A.a("espresso.collections.SparsedMatrix",function(){function d(a,c,d){var f=[a,c].join();m[f]||++g;return m[f]=new b(a,c,d||p)}function a(a,b){function c(a,b){return function(){return m[[a,b].join()]||d(a,b)}}f={Y:c(a,b-1),left:c(a-1,b),R:c(a,b+1),right:c(a+1,b),$:c(a+1,b-1),Z:c(a-1,b-1),T:c(a+1,b+1),S:c(a-1,b+1),h:c(a,b)}}function c(a){return function(){return j.move.call(j,a)}}function b(a,b,c){this.x=a;this.y=b;this.data=c}var j,f,m,g;return{gb:function(){j=this.clear()},get:function(a,b){return 0==
arguments.length?f.h().data:(m[[a,b].join()]||d(a,b)).data},set:function(b,c,g){var j;1>=arguments.length?(g=arguments[0],j=f.h(),b=j.x,c=j.y):a(b,c);d(b,c,g);return this},clear:function(){m={};g=0;a(0,0);return this},length:function(){return g},position:function(){var a=f.h();return{x:a.x,y:a.y}},move:function(b,c){var d;1==arguments.length&&(d=f[arguments[0]](),b=d.x,c=d.y);a(b,c);return this},toString:function(){var a=[],b;for(b in a)a.push("{"+b+"}");return["Length: "+g,"Iterator: "+(g?"{"+f.h().x+
","+f.h().y+"}":"null"),"Nodes: "+a.join(", ")].join("\n")},debug:function(a){a&&(a("Length",g),a("Iterator",g?{x:f.h().x,y:f.h().y}:p),a("Nodes",m))},Y:c("up"),left:c("left"),R:c("down"),right:c("right"),$:c("upright"),Z:c("upleft"),T:c("downright"),S:c("downleft")}},{g:A.Na.hb});A.c("espresso.collections.SparsedMatrix.DirectionsEnum",{ib:"up",ab:"left",Va:"down",fb:"right",jb:"upleft",kb:"upright",Wa:"downleft",Xa:"downright"});
A.a("espresso.collections.HashMap",function(){var d={},a,c;return{u:function(){var b=A.b.e;a=new b;c=new b;return this},put:function(b,j){if(d[b])c.replace(j,d[b]);else{var f=a.add(b);c.add(j);d[b]=f}return j},add:function(a,c){return this.put(a,c)},get:function(a){a=d[a];return a==p?p:c.get(a)},remove:function(b){if(!d[b])return this;var j=d[b];delete d[b];a.remove(j);c.remove(j);return this},clear:function(){for(var b in d)delete d[b];a.clear();c.clear()},ub:function(){return a.Q()},wb:function(){return c.Q()},
size:function(){return a.size()},l:function(){return 0==this.size()}}},{g:A.b.ca});
A.a("espresso.collections.EventQueue",function(){function d(b){if(a.length)return a[b]()();throw new A.b.t.cb;}var a,c=q;return{t:function(b){a=[];this.add(b)},add:function(b,c){if(b instanceof Array)for(var d=0;d<b.length;++d)this.add(b[d]);else if("function"==typeof b)a[c?"unshift":"push"](b);return this},flush:function(b,d,f){var m=a;for(f&&(m=[].concat(a));f=m.shift();)f.apply(d,b instanceof Array?b:[b]);c=i;return this},step:function(){return d("shift")},pop:function(){return d("pop")},length:function(){return a.length},
ya:function(){return c}}});A.m("espresso.collections.EventQueue.QueueDepletedException","The queue is empty. Nothing to execute.");var H=this.k,K=H.aa;H.a("espresso.framework.Session",function(){return{ga:r()}});
H.a("espresso.framework.Process",function(d){var a,c,b,j,f;return{A:function(d,g,h){f=this;c=g;b=h;j=d;a=j.X().add(this)},za:function(a){var g;j.ta((c=c.split(".")).shift(),function(h){a=a||{};h=H.z(c.join("."),h)||h;g=h[b].apply(h,[].concat(a.O||[]))||new H.i.n;g.J(f);g.state(H.i.A.Ra);(a.ob||d.d)(g);j.X().remove(this)});return g},path:function(){return c},na:function(){return b},toString:function(){return""+a},valueOf:function(){return 1*a}}});H.c("espresso.framework.Process.READY",0);
H.c("espresso.framework.Process.COMPLETE",1);H.a("espresso.framework.collections.Processes",function(){var d,a;return{fa:function(){d={};a=[]},add:function(c){var b=a.push([c.path(),c.na()]);d[b]=c;return b},remove:function(a){d[a]=void 0;delete d[a]}}});
H.a("espresso.framework.ProcessResult",function(){function d(c,b){return a[c]="undefined"!=typeof b?b:a[c]}var a={};return{n:function(a,b){b=b||{};this.value(a);this.state(b.state||H.i.A.eb);this.q(b.q);this.assert(b.assert);this.J(b.J)},value:function(a){return d("value",a)},state:function(c){return d("state",c||a.value)},J:function(a){return d("process",a)},q:function(c){H.extend(a,{q:c});return this},assert:function(c,b){H.extend(a,{assert:[c,b]});return this}}});
H.a("espresso.framework.Application",function(d){function a(a,c){return b.j(m.get(a),function(f){(c||d.d)(f.wa().f(b,H.Ja(n.mb[a])))})}function c(){g.length()&&g.flush()}var b,j,f,m,g,h,o,n={};return{r:function(c,l,n,I){var B=H.b,C=H.i;j=c;f=I;m=new B.u;g=new B.t;o=new C.ga;h=new C.b.fa;b=this.Ka(l);var c=H.Ja(n||{}),l=c.Gb,y;for(y in l)m.put(y,l[y]);if(c.ka){var s=c.ka;b.j(d.map(s,function(a){return m.get(a)}),function(){d.map(s,function(b){a(b)});b.f()})}else b.f();return this},Ka:function(a){var b=
this.getContext().U,b=H.extend(i,(a||{}).k,this.getContext().U);H.oa(b);H.extend(i,n,b||{},a);return this},getContext:function(){return f},va:function(){return n},getName:function(){return j},Bb:function(b,c){a(b,c);return this},ta:function(b,c){var d=a(b,c);return"function"==typeof d?d.wa():p},j:function(a,b,c){return H.j(a,b,c||n.W)},qa:function(a){g.add(a);d(c);return this},execute:function(a,b,c){return(new H.i.A(this,a,b)).za(c)},X:function(){return h},q:function(){return o}}},{Abstract:{f:r(),
p:r()}});H.a("espresso.framework.ApplicationWorker",function(d){return{s:d.d,Fb:function(a,c){this[H.la(a)]=c;return this},xb:function(a){return!!this[H.la(a)]}}},{Abstract:{f:r()}});H.a("espresso.framework.data.DataModel",function(d){var a=p;return{Ya:function(c){a=this;d.I(c,function(b,c){var d=a,m;m=b.replace(/(?:_|-)(\w)/g,function(a,b){return b.toUpperCase()}).replace(/^(\w)/,function(a,b){return b.toUpperCase()});d[["get",m].join("")]=function(){return c}});return this}}});var M={},N=H.plugins;
N.r={create:function(d,a,c,b){var j=q,f,m,g,c=c||{};f=c.Sa||{};m=c.Qa||{};b=b||H.oa("context");(a=a(K))[d]=function(){return this["@super"](d,f.Za||{},m,b)};g=H.copy(a.f);a.f=function(){if(j)return this;j=i;g.call(this,this.va(),b);return this};a=new (H.a(d,function(){return a},{g:c.g||H.i.r,B:i},b));H.c("getInstance",H.Ea(a),b[d]);return M[d]=a.qa(K.Eb(a.p,a))}};
N.s={create:function(d,a,c){var b=q,j=H.copy((a=a(K)).f);a.f=function(){if(b)return this;b=i;j.apply(this,arguments);return this};d=H.a(d,H.Ea(a),{g:(c=c||{}).g||H.i.s,K:c.K,B:i});H.c("getInstance",function(){return new this},d);return d}};N.n=function(d,a){return new H.i.n(d,a)};H.c("Application",N.r.create,H);H.c("ApplicationWorker",N.s.create,H);H.c("getApplication",function(d){return M[d]||p},H);H.c("ProcessResult",N.n,H);